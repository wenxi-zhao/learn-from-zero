import{r as v,q,s as D,x as L,m as E,i as P,g as N,j as V,y as $,z,o as C,c as k,a as g,t as A,f as G,A as R,n as F}from"./7OvbDS87.js";function _(e){return D()?(L(e),!0):!1}function b(e){return typeof e=="function"?e():E(e)}const x=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const I=Object.prototype.toString,H=e=>I.call(e)==="[object Object]",J=()=>{};function K(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const r=t;t=void 0,r&&await r},n}function Q(e,t,n={}){const{immediate:r=!0}=n,a=v(!1);let o=null;function s(){o&&(clearTimeout(o),o=null)}function u(){a.value=!1,s()}function f(...c){s(),a.value=!0,o=setTimeout(()=>{a.value=!1,o=null,e(...c)},b(t))}return r&&(a.value=!0,x&&f()),_(u),{isPending:q(a),start:f,stop:u}}function U(e){var t;const n=b(e);return(t=n==null?void 0:n.$el)!=null?t:n}const X=x?window:void 0,j=x?window.navigator:void 0;function B(...e){let t,n,r,a;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,a]=e,t=X):[t,n,r,a]=e,!t)return J;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],s=()=>{o.forEach(l=>l()),o.length=0},u=(l,d,y,m)=>(l.addEventListener(d,y,m),()=>l.removeEventListener(d,y,m)),f=N(()=>[U(t),b(a)],([l,d])=>{if(s(),!l)return;const y=H(d)?{...d}:d;o.push(...n.flatMap(m=>r.map(h=>u(l,m,h,y))))},{immediate:!0,flush:"post"}),c=()=>{f(),s()};return _(c),c}function Y(){const e=v(!1),t=$();return t&&V(()=>{e.value=!0},t),e}function M(e){const t=Y();return P(()=>(t.value,!!e()))}function T(e,t={}){const{controls:n=!1,navigator:r=j}=t,a=M(()=>r&&"permissions"in r);let o;const s=typeof e=="string"?{name:e}:e,u=v(),f=()=>{o&&(u.value=o.state)},c=K(async()=>{if(a.value){if(!o)try{o=await r.permissions.query(s),B(o,"change",f),f()}catch{u.value="prompt"}return o}});return c(),n?{state:u,isSupported:a,query:c}:u}function Z(e={}){const{navigator:t=j,read:n=!1,source:r,copiedDuring:a=1500,legacy:o=!1}=e,s=M(()=>t&&"clipboard"in t),u=T("clipboard-read"),f=T("clipboard-write"),c=P(()=>s.value||o),l=v(""),d=v(!1),y=Q(()=>d.value=!1,a);function m(){s.value&&S(u.value)?t.clipboard.readText().then(i=>{l.value=i}):l.value=O()}c.value&&n&&B(["copy","cut"],m);async function h(i=b(r)){c.value&&i!=null&&(s.value&&S(f.value)?await t.clipboard.writeText(i):W(i),l.value=i,d.value=!0,y.start())}function W(i){const p=document.createElement("textarea");p.value=i??"",p.style.position="absolute",p.style.opacity="0",document.body.appendChild(p),p.select(),document.execCommand("copy"),p.remove()}function O(){var i,p,w;return(w=(p=(i=document==null?void 0:document.getSelection)==null?void 0:i.call(document))==null?void 0:p.toString())!=null?w:""}function S(i){return i==="granted"||i==="prompt"}return{isSupported:c,text:l,copied:d,copy:h}}const ee={class:"relative"},te={key:0,class:"flex items-center gap-1.5 border border-gray-200 dark:border-gray-700 border-b-0 relative rounded-t-md px-4 py-3 not-prose"},ne={class:"text-gray-700 dark:text-gray-200 text-sm/6"},oe={class:"iconify i-heroicons:clipboard-document flex-shrink-0 h-4 w-4","aria-hidden":"true",style:{}},ae=z({__name:"ProsePre",props:{code:{type:String,default:""},language:{type:String,default:null},filename:{type:String,default:null},highlights:{type:Array,default:()=>[]},meta:{type:String,default:null},class:{type:String,default:null},showPath:{type:Boolean,default:!1}},setup(e){const{copy:t,copied:n}=Z(),r=e,a=()=>{t(r.code)};return(o,s)=>(C(),k("div",ee,[e.meta!=="noTag"&&e.filename?(C(),k("div",te,[s[0]||(s[0]=g("span",{class:"iconify i-vscode-icons:file-type-markdown","aria-hidden":"true",dynamic:""},null,-1)),g("span",ne,A(e.filename),1)])):G("",!0),g("button",{onClick:a,type:"button",class:"focus:outline-none focus-visible:outline-0 disabled:cursor-not-allowed disabled:opacity-75 flex-shrink-0 font-medium rounded-md text-xs gap-x-1.5 p-1.5 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 underline-offset-4 hover:underline focus-visible:ring-inset focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400 inline-flex items-center absolute top-2.5 right-2.5","aria-label":"Copy code to clipboard",tabindex:"-1"},[g("span",oe,A(E(n)?"Done":"Copy"),1)]),g("pre",{class:F([{"rounded-t-none":e.meta!=="noTag"&&e.filename,[o.$props.class]:!0},"my-0 border rounded border-gray-200 dark:border-gray-700"])},[R(o.$slots,"default")],2)]))}});export{ae as default};
